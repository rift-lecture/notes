\documentclass[twoside]{scrreprt}

\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\graphicspath{{images/}}
\usepackage[pdftex,colorlinks=true,pdfstartview=FitV,
 linkcolor=black,citecolor=black,urlcolor=black]{hyperref}

% ============================================================
% Markup macros for proof-reading
\usepackage{ifthen}
\usepackage{amssymb}
\newboolean{showcomments}
\setboolean{showcomments}{true}
\newcommand{\id}[1]{$-$Id$-$}
\newcommand{\yellowbox}[1]{
  \fcolorbox{gray}{yellow}{\bfseries\sffamily\scriptsize#1}}
\newcommand{\triangles}[1]{
  {\sf\small$\blacktriangleright$\textit{#1}$\blacktriangleleft$}}

\ifthenelse{\boolean{showcomments}}
{
  \newcommand{\nb}[2]{{\yellowbox{#1}\triangles{#2}}}
  \newcommand{\nbc}[3]{
    {\colorbox{#3}{\bfseries\sffamily\scriptsize\textcolor{white}{#1}}}
    {\textcolor{#3}{
      \sf\small$\blacktriangleright$\textit{#2}$\blacktriangleleft$}}}
  \newcommand{\ugh}[1]{\textcolor{red}{\uwave{#1}}} % please rephrase
  \newcommand{\ins}[1]{\textcolor{blue}{\uline{#1}}} % please insert
  \newcommand{\del}[1]{\textcolor{red}{\sout{#1}}} % please delete
  \newcommand{\chg}[2]{  % please change
    \textcolor{red}{\sout{#1}}{\ra}\textcolor{blue}{\uline{#2}}}
}
{
  \newcommand{\nb}[2]{\nbc{#1}{#2}{orange}}
  \newcommand{\nbc}[3]{}
  \renewcommand{\ugh}[1]{#1} % please rephrase
  \renewcommand{\ins}[1]{#1} % please insert
  \renewcommand{\del}[1]{} % please delete
  \renewcommand{\chg}[2]{#2} % please change
}
\newcommand{\here}{\yellowbox{$\Rightarrow$ CONTINUE HERE $\Leftarrow$}}
\newcommand\fix[1]{\nb{FIX}{#1}}
\newcommand\todo[1]{\nb{TO DO}{#1}}
% ============================================================

\newcommand{\seclabel}[1]{\label{sec:#1}}
%\newcommand{\secref}[1]{Section~\ref{sec:#1}} <- use \autoref instead!
\newcommand{\figlabel}[1]{\label{fig:#1}}
%\newcommand{\figref}[1]{Figure~\ref{fig:#1}}
\newcommand{\tablabel}[1]{\label{tab:#1}}
%\newcommand{\tabref}[1]{Table~\ref{tab:#1}}

% ============================================================
\newcommand{\bs}{\symbol{'134}} % backslash
\newcommand{\us}{\symbol{'137}} % underscore
\newcommand{\ie}{\emph{i.e.},\xspace}
\newcommand{\eg}{\emph{e.g.},\xspace}
\newcommand{\etal}{\emph{et al.}\xspace}
\newcommand{\sep}{\mbox{$\gg$}}

%=============================================================
%:Listings package configuration
\usepackage[english]{babel}
\usepackage{amssymb,textcomp}
\usepackage{listings}

\usepackage{xcolor}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{dred}{rgb}{0.545,0,0}
\definecolor{dblue}{rgb}{0,0,0.545}
\definecolor{lgrey}{rgb}{0.95,0.95,0.95}
\definecolor{gray}{rgb}{0.4,0.4,0.4}
\definecolor{darkblue}{rgb}{0.0,0.0,0.6}
\lstdefinelanguage{cpp}{
      backgroundcolor=\color{lgrey},
      basicstyle=\footnotesize \ttfamily \color{black},
      breakatwhitespace=false,
      breaklines=true,
      captionpos=b,
      commentstyle=\color{dkgreen},
      deletekeywords={...},
      escapeinside={\%*}{*)},
      frame=none,
      language=C++,
      keywordstyle=\color{purple},
      morekeywords={BRIEFDescriptorConfig,string,TiXmlNode,DetectorDescriptorConfigContainer,istringstream,cerr,exit},
      identifierstyle=\color{black},
      stringstyle=\color{blue},
      numbers=left,
      numbersep=5pt,
      numberstyle=\tiny\color{black},
      rulecolor=\color{black},
      showspaces=false,
      showstringspaces=false,
      showtabs=false,
      stepnumber=1,
      tabsize=4,
      title=\lstname,
    }

\lstloadlanguages{R}
\lstdefinelanguage{rift}[]{R}{
      backgroundcolor=\color{lgrey},
      basicstyle=\footnotesize \ttfamily \color{black},
      breakatwhitespace=false,
      breaklines=true,
      captionpos=b,
      commentstyle=\color{dkgreen},
      deletekeywords={...},
      escapeinside={\%*}{*)},
      frame=none,
      language=R,
      keywordstyle=\color{purple},
      morekeywords={length},
      identifierstyle=\color{black},
      stringstyle=\color{blue},
      numbers=left,
      numbersep=5pt,
      numberstyle=\tiny\color{black},
      rulecolor=\color{black},
      showspaces=false,
      showstringspaces=false,
      showtabs=false,
      stepnumber=1,
      tabsize=4,
      title=\lstname,
    }

\newenvironment{bottompar}{\par\vspace*{\fill}}{\clearpage}

\newcommand{\rift}{rift}
\newcommand{\Rift}{Rift}
\newcommand{\RIFT}{RIFT}

\newcommand{\thetitle}{\RIFT}
\newcommand{\thesubtitle}{LLVM based JIT compiler}
\newcommand{\theauthor}{We}
\newcommand{\theurl}{\url{http://github.com/rift-lecture}}
\newcommand{\thedate}{November 2015}

% ===================================
% License
\usepackage{babel}
\usepackage[
type={CC},
modifier={by},
version={4.0},
]{doclicense}

% ========================================
% Metadata

\begin{document}

\title{\thetitle}
\subtitle{\thesubtitle}
\author{\theauthor}
\date{\thedate}

\maketitle
\tableofcontents

\bottompar
\doclicenseThis

\include{intro}
\include{rift-lang}
\include{llvm}
\include{rift-compiler}
\include{static-analysis}
\include{optimization}
\include{gc}
\include{osr}


\end{document}
